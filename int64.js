function int64(t,n){return this.low=t>>>0,this.hi=n>>>0,this.add32inplace=function(t){var n=((this.low>>>0)+t&4294967295)>>>0,t=this.hi>>>0;n<this.low&&t++,this.hi=t,this.low=n},this.add32=function(t){var n=((this.low>>>0)+t&4294967295)>>>0,t=this.hi>>>0;return n<this.low&&t++,new int64(n,t)},this.sub32=function(t){var n=((this.low>>>0)-t&4294967295)>>>0,t=this.hi>>>0;return n>this.low&4294967295&&t--,new int64(n,t)},this.add64=function(t){var n=((this.low>>>0)+t.low&4294967295)>>>0,r=this.hi>>>0;return n>this.low&4294967295&&r++,new int64(n,r=((r>>>0)+t.hi&4294967295)>>>0)},this.sub64=function(t){var n=((this.low>>>0)-t.low&4294967295)>>>0,r=this.hi>>>0;return n>this.low&4294967295&&r--,new int64(n,r=((r>>>0)-t.hi&4294967295)>>>0)},this.sub32inplace=function(t){var n=((this.low>>>0)-t&4294967295)>>>0,t=this.hi>>>0;n>this.low&4294967295&&t--,this.hi=t,this.low=n},this.and32=function(t){return new int64(this.low&t,this.hi)},this.and64=function(t,n){return new int64(this.low&t,this.hi&n)},this.toString=function(t){var n=(this.low>>>0).toString(16),r=(this.hi>>>0).toString(16);return 0==this.hi?n:r+(n=zeroFill(n,8))},this.toPacked=function(){return{hi:this.hi,low:this.low}},this.setPacked=function(t){return this.hi=t.hi,this.low=t.low,this},this}function zeroFill(t,n){return 0<(n-=t.toString().length)?new Array(n+(/\./.test(t)?2:1)).join("0")+t:t+""}function Int64(n,t){var e=new Uint8Array(8);if(2<arguments.length||0==arguments.length)throw TypeError("Incorrect number of arguments to constructor");if(2==arguments.length){if("number"!=typeof n||"number"!=typeof t)throw TypeError("Both arguments must be numbers");if(4294967295<n||4294967295<t||n<0||t<0)throw RangeError("Both arguments must fit inside a uint32");n=n.toString(16);for(let t=0;t<8-n.length;t++)n="0"+n;n="0x"+t.toString(16)+n}switch(typeof n){case"number":n="0x"+Math.floor(n).toString(16);case"string":"0x"===n.substr(0,2)&&(n=n.substr(2)),n.length%2==1&&(n="0"+n);for(var r=unhexlify(n,8),i=[],o=0;o<r.length;o++)i[o]=r[o];e.set(i.reverse());break;case"object":if(n instanceof Int64)e.set(n.bytes());else{if(8!=n.length)throw TypeError("Array must have excactly 8 elements.");e.set(n)}}function h(r,i){return function(){if(arguments.length!=i)throw Error("Not enough arguments for function "+r.name);for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]instanceof Int64?arguments[n]:new Int64(arguments[n]);return r.apply(this,t)}}this.asDouble=function(){if(255==e[7]&&(255==e[6]||254==e[6]))throw new RangeError("Can not be represented by a double");return Struct.unpack(Struct.float64,e)},this.asInteger=function(){if(0!=e[7]||32<e[6])throw debug_log("SOMETHING BAD HAS HAPPENED!!!"),new RangeError("Can not be represented as a regular number");return Struct.unpack(Struct.int64,e)},this.asJSValue=function(){if(0==e[7]&&0==e[6]||255==e[7]&&255==e[6])throw new RangeError("Can not be represented by a JSValue");return Struct.unpack(Struct.float64,this.sub(281474976710656).bytes())},this.bytes=function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},this.byteAt=function(t){return e[t]},this.toString=function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return"0x"+hexlify(t.reverse())},this.low32=function(){return new Uint32Array(e.buffer)[0]>>>0},this.hi32=function(){return new Uint32Array(e.buffer)[1]>>>0},this.equals=function(t){t instanceof Int64||(t=new Int64(t));for(var n=0;n<8;n++)if(e[n]!=t.byteAt(n))return!1;return!0},this.greater=function(t){return t instanceof Int64||(t=new Int64(t)),this.hi32()>t.hi32()||this.hi32()===t.hi32()&&this.low32()>t.low32()},this.neg=h(function(){for(var t=[],n=0;n<8;n++)t[n]=~this.byteAt(n);return new Int64(t).add(Int64.One)},0),this.add=h(function(t){for(var n=[],r=0,i=0;i<8;i++){var e=this.byteAt(i)+t.byteAt(i)+r,r=255<e|0;n[i]=e}return new Int64(n)},1),this.assignAdd=h(function(t){for(var n=0,r=0;r<8;r++){var i=this.byteAt(r)+t.byteAt(r)+n,n=255<i|0;e[r]=i}return this},1),this.sub=h(function(t){for(var n=[],r=0,i=0;i<8;i++){var e=this.byteAt(i)-t.byteAt(i)-r,r=e<0|0;n[i]=e}return new Int64(n)},1)}Int64.fromDouble=function(t){return new Int64(Struct.pack(Struct.float64,t))},Int64.Zero=new Int64(0),Int64.One=new Int64(1),Int64.NegativeOne=new Int64(4294967295,4294967295);